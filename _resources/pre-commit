#!/usr/bin/env bash

# Go to root
cd "$(git rev-parse --git-dir)" && cd ..

npm install --silent
bundle install --quiet
bundle exec jekyll build --trace

# bundle exec bundle-audit
## htmlproof URLs
# bundle exec htmlproofer --check-html _site/
# htmlhint
htmlhint _site
# stylelint
stylelint static/css/*.scss --syntax scss
# SASS check
bundle exec sass -c static/css/style.scss
# jscs
jscs static/js/
## jshint
# jshint static/js/
# kwalify link .yml
bundle exec kwalify -lf .link-lint.yml data/links/da.yml && bundle exec kwalify -lf .link-lint.yml data/links/en.yml
# markdownlint
markdownlint _posts/*.markdown _posts/*/*.markdown ./*.md
## Git
git diff --check # Show whitespace errors
